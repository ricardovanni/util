{"swagger":"2.0","info":{"version":"v1","title":"API Aceite Digital"},"paths":{"/api/v1/aceite-digital":{"post":{"tags":["AceiteDigital"],"summary":"Responsável por criar uma nova solicitação de aceite","operationId":"ApiV1Aceite-digitalPost","consumes":["application/json-patch+json","application/json","text/json","application/*+json"],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"command","in":"body","description":"Dados do Aceite Digital","required":false,"schema":{"$ref":"#/definitions/SAD.Domain.Commands.Aceite.CreateAceiteCommand"}}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/SAD.API.Controllers.Core.ResponseResult`1[[SAD.Domain.Dtos.CriacaoAceiteResultDto, SAD.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"}}}}},"/api/v1/aceite-digital/correntista/{cpf}/{sistemaRequerenteId}":{"get":{"tags":["AceiteDigital"],"summary":"Responsável por retornar todos os aceites digitais pendentes de aceitação pelo cliente para os canais de atendimento ex. internet banking e App","description":"### Funcionalidade ###\r\nEsta funcionalidade tem por objetivo obter todas as solicitações de aceite digital pendente para o cliente através do seu CPF","operationId":"ApiV1Aceite-digitalCorrentistaByCpfBySistemaRequerenteIdGet","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"cpf","in":"path","description":"CPF do cliente (Correntista)","required":true,"type":"string"},{"name":"sistemaRequerenteId","in":"path","description":"Id do sistema reponsavel pela interface do aceite digital ex. IB ou APP","required":true,"type":"string","format":"uuid"}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/SAD.API.Controllers.Core.ResponseResult`1[[SAD.Domain.Dtos.SolicitacaoAceiteDigitalDto, SAD.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"}}}}},"/api/v1/aceite-digital/confirmar-aceite":{"post":{"tags":["AceiteDigital"],"summary":"Metodo responsável por confirmar uma solicitação de aceite","description":"### Funcionalidade ###\r\nEsta funcionalidade tem por objetivo efetivar um aceite digital de acordo com os parametros informados no momento da criação do aceite","operationId":"ApiV1Aceite-digitalConfirmar-aceitePost","consumes":["application/json-patch+json","application/json","text/json","application/*+json"],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"command","in":"body","description":"","required":false,"schema":{"$ref":"#/definitions/SAD.Domain.Commands.Aceite.ConfirmarAceiteCommand"}}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/SAD.API.Controllers.Core.ResponseResult`1[[System.Boolean, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089]]"}}}}},"/api/v1/aceite-digital/cancelar-aceite":{"post":{"tags":["AceiteDigital"],"summary":"Metodo responsável por cancelar uma solicitação de aceite","operationId":"ApiV1Aceite-digitalCancelar-aceitePost","consumes":["application/json-patch+json","application/json","text/json","application/*+json"],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"command","in":"body","description":"","required":false,"schema":{"$ref":"#/definitions/SAD.Domain.Commands.Aceite.CancelarAceiteCommand"}}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/SAD.API.Controllers.Core.ResponseResult`1[[System.Boolean, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089]]"}}}}},"/api/v1/aceite-digital/log/{aceiteDigitalId}/{sistemaRequerenteId}":{"get":{"tags":["AceiteDigital"],"summary":"Retorna o log de movimentação realizada em uma solicitação de aceite","description":"### Funcionalidade ###\r\nA partir de um AceiteDigitalId, esta funcionalidade busca todo o histórico de movimentação relacionado ao IdOrigem do sistema que solicitou a inclusão de um aceite.\r\nexemplo caso a proposta de número 123 tenha solicitado a inclusão de um aceite, será gera um aceite com uma numeração \"X\" e caso essa mesma proposta seja enviada para um novo \r\naceite, o aceite pendente será cancelado e uma nova numeração de aceite será gerado com o número \"Y\", o log por sua vez faz a junção de todo o histórico de movimentação ocorrido \r\npara esse número de proposta, retornando o historio da solicitação \"X\" e \"Y\".","operationId":"ApiV1Aceite-digitalLogByAceiteDigitalIdBySistemaRequerenteIdGet","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"aceiteDigitalId","in":"path","description":"Identificador unico do aceite digital","required":true,"type":"string","format":"uuid"},{"name":"sistemaRequerenteId","in":"path","description":"Id do sistema que está fazendo a requisição, este sistema deve estar cadastrado na base do aceite digital","required":true,"type":"string","format":"uuid"}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/SAD.API.Controllers.Core.ResponseResult`1[[System.Collections.Generic.List`1[[SAD.Domain.Dtos.LogDto, SAD.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089]]"}}}}},"/api/v1/aceite-digital/list/{sistemaOrigemId}":{"get":{"tags":["AceiteDigital"],"summary":"Retorna o status do aceite","description":"### Funcionalidade ###\r\nEsta funcionalidade busca o status dos aceites através dos parâmetros informados.","operationId":"ApiV1Aceite-digitalListBySistemaOrigemIdGet","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"sistemaOrigemId","in":"path","description":"Id do sistema de origem do aceite, este sistema deve estar cadastrado na base do aceite digital","required":true,"type":"string","format":"uuid"},{"name":"origensSolicitacoes","in":"query","description":"É uma lista de Identificador unico do aceite digital","required":false,"type":"array","items":{"type":"string"},"collectionFormat":"multi","uniqueItems":false}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/SAD.API.Controllers.Core.ResponseResult`1[[System.Collections.Generic.List`1[[SAD.Domain.Dtos.StatusAceiteDto, SAD.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089]]"}}}}},"/api/v1/aceite-digital/relatorio/{relatorioId}":{"get":{"tags":["Relatorio"],"summary":"Obtem os PDF's informados no momento da criação do Aceite Digital através do ID gerado pelo sistema.","description":"### Funcionalidade ###\r\nEsta funcionalidade retorna os arquivos PDF's enviado pelo sistema de origem no momento da criação de uma solicitação \r\nde aceite digital.\r\nTodos os PDF's serão retornados com o \"Carimbo do Tempo\";\r\nSomente será retornado PDF's com aceite digital concluído \"Efetivado com Sucesso pelo cliente\" através dos canais de \r\natendimento Internet Banking ou APP.","operationId":"ApiV1Aceite-digitalRelatorioByRelatorioIdGet","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"relatorioId","in":"path","description":"Id do relatório gerado pelo processo de aceite digital retornado no momento da criação de um aceite","required":true,"type":"string","format":"uuid"}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/SAD.API.Controllers.Core.ResponseResult`1[[SAD.Domain.Dtos.RelatorioDto, SAD.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"}}}}},"/api/v1/aceite-digital/relatorio":{"get":{"tags":["Relatorio"],"summary":"Obtem os PDF's cadastrados através dos sistemas de origem de acordo com os seus controles de Id's","description":"### Funcionalidade ###\r\nEsta funcionalidade retorna os arquivos PDF's enviado pelo sistema de origem no momento da criação de uma solicitação \r\nde aceite digital.\r\nTodos os PDF's serão retornados com o \"Carimbo do Tempo\";\r\nSomente será retornado PDF's com aceite digital concluído \"Efetivado com Sucesso pelo cliente\" através dos canais de \r\natendimento Internet Banking ou APP.","operationId":"ApiV1Aceite-digitalRelatorioGet","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"sistemaOrigemId","in":"query","description":"Id do sistema que detem a solcitação de aceite digital","required":false,"type":"string","format":"uuid"},{"name":"origemSolicitacaoId","in":"query","description":"Id do processo (cliente) que optou pelo aceite digital no sistema de origem. Ex. IdProposta, IdSeguroVida, etc.","required":false,"type":"string"},{"name":"tpRelatorioSistemaOrigem","in":"query","description":"tipo de ralatorio, este dominio pertence ao sistema de origem","required":false,"type":"string"}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/SAD.Domain.Dtos.RelatorioDto"}}}}}},"definitions":{"SAD.Domain.Commands.Aceite.CreateAceiteCommand":{"type":"object","properties":{"sistemaId":{"format":"uuid","description":"Id do sitema que esta solicitando a criação do Aceite Digital","type":"string"},"origemId":{"description":"codigo interno da apolicação de origem exemplo: IdProposta, IdAuto e etc.","type":"string"},"cpf":{"description":"CPF do cliente que solicitou o Aceite Digital","type":"string"},"dadosBancarios":{"$ref":"#/definitions/SAD.Domain.Commands.Aceite.DadosPagamentoCommand","description":"Dados da conta do cliente para possivel debito do valor solicitado"},"efeturarDebitoEmConta":{"description":"Indica se o processo de Aceite Digital devera ser responsável pelo debito na conta do cliente","type":"boolean"},"enviarEmailNotificacaoAceiteDigital":{"description":"Indica se o processo de Aceite Digital devera enviar e-mail na solicitação através do sistema de origem","type":"boolean"},"parametrosNotificacaoAceiteEmailEmsg":{"$ref":"#/definitions/SAD.Domain.Commands.Aceite.EMSGCommand","description":"Dados para envido do e-mail cadastrado no EMSG na solicitação do aceite Digital, esse objeto deve ser preenchido caso a propriedade \"EnviarEmailNotificacaoAceiteDigital\" seja \"true\""},"enviarSmsNotificacaoAceiteDigital":{"description":"Indica se o processo de Aceite Digital devera enviar SMS na solicitação através do sistema de origem","type":"boolean"},"parametrosNotificacaoAceiteSmsEmsg":{"$ref":"#/definitions/SAD.Domain.Commands.Aceite.EMSGCommand","description":"Dados para envido do SMS cadastrado no EMSG na solicitação do aceite Digital, esse objeto deve ser preenchido caso a propriedade \"EnviarSmsNotificacaoAceiteDigital\" seja \"true\""},"enviarEmailAposAceiteDigital":{"description":"Indica se o processo de Aceite Digital devera enviar e-mail após a confirmação do aceite pelo cliente através dos canais Internet banking e APP","type":"boolean"},"parametrosEmailAposAceiteEmsg":{"$ref":"#/definitions/SAD.Domain.Commands.Aceite.EMSGCommand","description":"Dados para envido do e-mail cadastrado no EMSG após aceite Digital, esse objeto deve ser preenchido caso a propriedade \"EnviarEmailAposAceiteDigital\" seja \"true\""},"email":{"description":"Email do cliente","type":"string"},"enviarSmsAposAceiteDigital":{"description":"Indica se o processo de Aceite Digital deverá enviar SMS após a confirmação do aceite pelo cliente através dos canais Internet banking e APP","type":"boolean"},"parametrosSmsAposAceiteEmsg":{"$ref":"#/definitions/SAD.Domain.Commands.Aceite.EMSGCommand","description":"Dados para envido do SMS cadastrado no EMSG após aceite Digital, esse objeto deve ser preenchido caso a propriedade \"EnviarSmsAposAceiteDigital\" seja \"true\""},"numeroCelular":{"description":"Numero celular do cliente para envio do SMS \r\nformato  do celular +55-11-99999-9999","type":"string"},"dataExpiracao":{"format":"date-time","description":"Data limite para o aceite digital através dos canais de atendimento ao clinete exemplo \"Internt Banking\" e \"APP\"","type":"string"},"dadosOrigem":{"description":"Dados para prover informações acordadas entre o sistema de origem e o Internet Banking e APP.\r\nEsse campo deve conter somente objetos em formato Json (stringJson).","type":"string"},"arquivos":{"description":"Arquivos que deverão ser enviados ao cliente com o carimbo do tempo após aceite digital","uniqueItems":false,"type":"array","items":{"$ref":"#/definitions/SAD.Domain.Commands.Aceite.ArquivoCommand"}}}},"SAD.Domain.Commands.Aceite.DadosPagamentoCommand":{"type":"object","properties":{"codigoBanco":{"format":"int32","type":"integer"},"codigoAgencia":{"format":"int32","type":"integer"},"numeroConta":{"type":"string"},"tipoConta":{"format":"int32","enum":[1,2],"type":"integer"},"valorDebito":{"format":"double","description":"Valor a ser debitado da conta do cliente","type":"number"}}},"SAD.Domain.Commands.Aceite.EMSGCommand":{"type":"object","properties":{"emsgId":{"description":"Identificador único do cadastro no EMSG","type":"string"},"vertical":{"description":"Vertical responsável pelo envio da mensagem","type":"string"},"parametrosEMSG":{"description":"Lista de parametros para envio de e-mail e/ou SMS no EMSG, essas informações são de responsabilidade do sistema de origem","uniqueItems":false,"type":"array","items":{"$ref":"#/definitions/SAD.Domain.Commands.Aceite.ParametroEMSCommand"}}}},"SAD.Domain.Commands.Aceite.ArquivoCommand":{"type":"object","properties":{"descricao":{"description":"Nome do arquivo DPF","type":"string"},"conteudo":{"format":"byte","description":"Conteudo do arquivo PDF","type":"string"},"tpRelatorioSistemaOrigem":{"description":"tipo de ralatorio, este dominio pertence ao sistema de origem exemplo \"1\" - Proposta, \"2\"- Apólice","type":"string"}}},"SAD.Domain.Commands.Aceite.ParametroEMSCommand":{"type":"object","properties":{"codigo":{"description":"Codigo do parametro cadastrado no EMSG","type":"string"},"valor":{"description":"Conteúdo a ser associado ao codigo cadastrado no MSG","type":"string"}}},"SAD.API.Controllers.Core.ResponseResult`1[[SAD.Domain.Dtos.CriacaoAceiteResultDto, SAD.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]":{"type":"object","properties":{"success":{"type":"boolean"},"data":{"$ref":"#/definitions/SAD.Domain.Dtos.CriacaoAceiteResultDto"}}},"SAD.Domain.Dtos.CriacaoAceiteResultDto":{"type":"object","properties":{"solicitacaoId":{"format":"uuid","description":"Id da solcitação de aceite Digital","type":"string","readOnly":true},"relatorios":{"description":"Codigos dos relatorios incluidos no processo de Aceite Digital","uniqueItems":false,"type":"array","items":{"$ref":"#/definitions/SAD.Domain.Dtos.RelatorioInfoDto"},"readOnly":true}}},"SAD.Domain.Dtos.RelatorioInfoDto":{"type":"object","properties":{"relatorioId":{"format":"uuid","description":"Id do Relatorio","type":"string"},"descricao":{"description":"Nome do arquivo DPF","type":"string"},"origemId":{"description":"ID do solicitante para aceite digital na origem","type":"string","readOnly":true},"tipoArquivoSistemaOrigem":{"description":"Tipo de PDF no Sistema Origem ex. BOleto, Proposta","type":"string","readOnly":true}}},"SAD.API.Controllers.Core.ResponseResult`1[[SAD.Domain.Dtos.SolicitacaoAceiteDigitalDto, SAD.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]":{"type":"object","properties":{"success":{"type":"boolean"},"data":{"$ref":"#/definitions/SAD.Domain.Dtos.SolicitacaoAceiteDigitalDto"}}},"SAD.Domain.Dtos.SolicitacaoAceiteDigitalDto":{"type":"object","properties":{"codigoSistemaOrigem":{"format":"int32","description":"Codigo do sistema origem para o Internet Banking realizar o De/Para da propriedade \"ConteudoOrigemJson\" de acordo o layout estabelecido\r\nentre as duas pontas.","type":"integer","readOnly":true},"aceiteDigitalId":{"format":"uuid","description":"Id de controle interno Aceite Digital","type":"string","readOnly":true},"conteudoOrigemJson":{"description":"Conteúdo das informações fornecidas pelo sistema de origem a serem apresentadas no layout acordado entre \"Internet banking / APP\" e sistema de Origem","type":"object","readOnly":true}}},"SAD.Domain.Commands.Aceite.ConfirmarAceiteCommand":{"type":"object","properties":{"aceiteDigitalId":{"format":"uuid","description":"Idenetificador unico da solicitação de aceite digital","type":"string"},"sistemaRequerenteId":{"format":"uuid","description":"Identificador unico do sistema que esta efetivando a solicitação de aceite","type":"string"}}},"SAD.API.Controllers.Core.ResponseResult`1[[System.Boolean, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089]]":{"type":"object","properties":{"success":{"type":"boolean"},"data":{"type":"boolean"}}},"SAD.Domain.Commands.Aceite.CancelarAceiteCommand":{"type":"object","properties":{"aceiteDigitalId":{"format":"uuid","description":"Idenetificador unico da solicitação de aceite digital","type":"string"},"sistemaRequerenteId":{"format":"uuid","description":"Identificador unico do sistema que esta efetivando a solicitação de aceite","type":"string"},"motivoCancelamento":{"description":"Motivo do cancelamento de aceite","type":"string"}}},"SAD.API.Controllers.Core.ResponseResult`1[[System.Collections.Generic.List`1[[SAD.Domain.Dtos.LogDto, SAD.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089]]":{"type":"object","properties":{"success":{"type":"boolean"},"data":{"uniqueItems":false,"type":"array","items":{"$ref":"#/definitions/SAD.Domain.Dtos.LogDto"}}}},"SAD.Domain.Dtos.LogDto":{"type":"object","properties":{"situacaoAceite":{"description":"Status do aceite após execução do processo","type":"string","readOnly":true},"codigoSistema":{"format":"int32","description":"codigo do sistema que startou o processo","type":"integer","readOnly":true},"nomeDoSistema":{"description":"Nome do sistema que startou o processo","type":"string","readOnly":true},"aceiteId":{"format":"uuid","description":"Identificador Unico do aceite digital","type":"string","readOnly":true},"primeiroAceiteId":{"format":"uuid","description":"Identificador unico do primeiro pedido de aceite realizado para o mesmo sistemaOrigem e OrigemId","type":"string","readOnly":true},"dataLog":{"format":"date-time","description":"Data do registro de log","type":"string","readOnly":true},"processo":{"description":"Nome do processo que foi executado","type":"string","readOnly":true},"dadosOrigem":{"description":"Dados para prover informações acordadas entre o sistema de origem e o Internet Banking e APP.\r\nO sistema de aceite digital não detem as informações listadas nesse objeto","type":"object","readOnly":true}}},"SAD.API.Controllers.Core.ResponseResult`1[[System.Collections.Generic.List`1[[SAD.Domain.Dtos.StatusAceiteDto, SAD.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089]]":{"type":"object","properties":{"success":{"type":"boolean"},"data":{"uniqueItems":false,"type":"array","items":{"$ref":"#/definitions/SAD.Domain.Dtos.StatusAceiteDto"}}}},"SAD.Domain.Dtos.StatusAceiteDto":{"type":"object","properties":{"aceiteDigitalId":{"format":"uuid","description":"Id de controle interno Aceite Digital","type":"string","readOnly":true},"origemId":{"description":"codigo interno da apolicação de origem exemplo: IdProposta, IdAuto e etc.","type":"string","readOnly":true},"status":{"description":"descrição do status do Aceite Digital","type":"string","readOnly":true},"dataAceite":{"format":"date-time","description":"Data da confirmação do aceite digital.","type":"string","readOnly":true}}},"SAD.API.Controllers.Core.ResponseResult`1[[SAD.Domain.Dtos.RelatorioDto, SAD.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]":{"type":"object","properties":{"success":{"type":"boolean"},"data":{"$ref":"#/definitions/SAD.Domain.Dtos.RelatorioDto"}}},"SAD.Domain.Dtos.RelatorioDto":{"type":"object","properties":{"relatorioId":{"format":"uuid","description":"Id do Relatorio","type":"string"},"descricao":{"description":"Nome do arquivo DPF","type":"string"},"arquivo":{"format":"byte","description":"Conteudo do arquivo PDF","type":"string","readOnly":true},"tipoArquivoSistemaOrigem":{"description":"Tipo de PDF no Sistema Origem ex. BOleto, Proposta","type":"string","readOnly":true}}}}}